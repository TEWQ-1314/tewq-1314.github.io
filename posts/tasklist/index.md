# 如何利用TaskList给电脑杀毒

 ## [一］.普通安全模式杀毒
 ### 1.开机F8键
 ### 2.选择安全模式，Enter 
 ### 3.如果有360等安全软件，优先使用安全软件查看杀毒 
   如果没有安全软件或者安全软件被病毒屏蔽 
 ### 1.打开电脑控制面板
 ### 2.搜索“还原” 
 ### 3.设置“将计算机还原到一个较早的时间点”Enter
 
 
 ## ［二］.使用TaskList杀毒
Win(键盘上方块的按键）&#43;R（同时按）进入任务管理器
### 备份
自己动手前，切记有备无患——用TaskList备份系统进程，新型病毒都学会了用进程来隐藏自己，所以我们最好在系统正常的时候，备份一下电脑的进程列表，当然最好在刚进入Windows时不要运行任何程序的情况下备份，样以后感觉电脑异常的时候可以通过比较进程列表，找出可能是病毒的进程。  
在命令提示符下输入： 
``` bash
TaskList /fo:csv&gt;g:zc.csv　　
```
上述命令的作用是将当前进程列表以csv格式输出到“zc.csv”文件中，g:为你要保存到的盘，可以用Excel打开该文件.　　
### 寻找病毒
自己动手时，必须火眼金睛——用FC比较进程列表文件 如果感觉电脑异常，或者知道最近有流行病毒，那么就有必要检查一下。  
进入命令提示符下，输入下列命令：　　                   
``` bash
TaskList /fo:csv&gt;g:yc.csv　
```
　生成一个当前进程的yc.csv文件列表，然后输入：
``` bash
FC g:zccsv g:yc.csy　
```
　回车后就可以看到前后列表文件的不同了，通过比较发现，电脑多了一个名为“Winion0n.exe”(这里以这个进程为例)不是“Winionon.exe”的异常进程。　　
### 确认病毒
进行判断时，切记证据确凿——用Netstat查看开放端口 对这样的可疑进程，如何判断它是否是病毒呢?根据大部分病毒(特别是木马)会通过端口进行对外连接来传播病毒，可以查看一下端口占有情况。　  
在命令提示符下输入：
``` bash
Netstat -a-n-o
```
参数含义如下：　    
　a:显示所有与该主机建立连接的端口信息　  
　n:显示打开端口进程PID代码　  
　o：以数字格式显示地址和端口信息　  
　回车后就可以看到所有开放端口和外部连接进程，这里一个PID为1756(以此为例)的进程最为可疑，它的状态是“ESTABLISHED”，通过任务管理器可以知道这个进程就是“Winion0n.exe”，通过查看本机运行网络程序，可以判断这是一个非法连接!　　
连接参数含义如下：　   
  
　LISTENINC：表示处于侦听状态，就是说该端口是开放的，等待连接，但还没有被连接，只有TCP协议的服务端口才能处于LISTENINC状态。　    

　ESTABLISHED的意思是建立连接。表示两台机器正在通信。TIME-WAIT意思是结束了这次连接。说明端口曾经有过访问，但访问结束了，用于判断是否有外部电脑连接到本机。
### 终止进程
下手杀毒时，一定要心狠手辣——用NTSD终止进程　虽然知道 “Winion0n.exe”是个非法进程，但是很多病毒的进程无法通过任务管理器终止，怎么办?　　  

在命令提示符下输入下列命令：
``` bash
ntsd –c q-p 1756　　
```
回车后可以顺利结束病毒进程。　  

提示：“1756”为进程PID值，如果不知道进程的ID，打开任务管理器，单击“查看→选择列→勾上PID(进程标识符)即可。NTSD可以强行终止除Sytem,SMSS.EXE,CSRSS.EXE外的所有进程。　　  

### 斩草除根
断定病毒后，定要斩草除根——搜出病毒原文件 对于已经判断是病毒文件的“Winion0n.exe”文件，通过搜索“本地所有分区”、“搜索系统文件夹和隐藏的文件和文件夹”，找到该文件的藏身之所，将它删除。不过这样删除的只是病毒主文件，通过查看它的属性，依据它的文件创建日期、大小再次进行搜索，找出它的同伙并删除。如果你不确定还有哪些文件是它的亲戚，通过网络搜索查找病毒信息获得帮助。　　

温馨提示：上述操作可以在注册表编辑器手动操作，但是REC命令有个好处，那就是即使注册表编辑器被病毒设置为禁用，也可以通过上述命令导出/删除/导入操作，而且速度也会更快。我们介绍的这些手动杀毒系统，切记要记得做好备份工作。
 
 

---

> 作者: [Haoran Dong](https://github.com/TEWQ-1314)  
> URL: https://www.depth.su/posts/tasklist/  

